"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[1854],{9513:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var l=a(7267);const s=(0,l.eW)("添加顶级菜单"),i=(0,l.Lk)("div",{style:{width:"100%",height:"0","border-bottom":"#e4e7ed 1px dashed","margin-top":"15px"}},null,-1),n=(0,l.eW)("菜单"),o=(0,l.eW)("功能"),d=(0,l.eW)("子菜单"),u=(0,l.eW)("编辑"),c=(0,l.eW)("删除");function r(e,t,a,r,h,p){const g=(0,l.g2)("el-button"),k=(0,l.g2)("el-table-column"),b=(0,l.g2)("el-icon"),f=(0,l.g2)("el-tag"),m=(0,l.g2)("el-table"),v=(0,l.g2)("el-card"),y=(0,l.g2)("save-dialog"),w=(0,l.g2)("el-main");return(0,l.uX)(),(0,l.Wv)(w,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{shadow:"never"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{type:"primary",icon:"el-icon-plus",onClick:p.addTop},{default:(0,l.k6)((()=>[s])),_:1},8,["onClick"]),i,(0,l.bF)(m,{data:h.tableData,"row-key":"id",style:{width:"100%","margin-top":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(k,{type:"",prop:"id",label:"ID"}),(0,l.bF)(k,{prop:"name",label:"菜单"}),(0,l.bF)(k,{label:"图标"},{default:(0,l.k6)((e=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.row.icon)))])),_:2},1024)])),_:1}),(0,l.bF)(k,{label:"类型"},{default:(0,l.k6)((e=>[1==e.row.type?((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"success"},{default:(0,l.k6)((()=>[n])),_:1})):(0,l.Q3)("",!0),2==e.row.type?((0,l.uX)(),(0,l.Wv)(f,{key:1},{default:(0,l.k6)((()=>[o])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(k,{prop:"path",label:"路径"}),(0,l.bF)(k,{prop:"sort",label:"排序"}),(0,l.bF)(k,{label:"操作"},{default:(0,l.k6)((e=>[1==e.row.type?((0,l.uX)(),(0,l.Wv)(g,{key:0,onClick:t=>p.handleAddSub(e.row),type:"text",size:"small"},{default:(0,l.k6)((()=>[d])),_:2},1032,["onClick"])):(0,l.Q3)("",!0),(0,l.bF)(g,{onClick:t=>p.handleEdit(e.row),type:"text",size:"small"},{default:(0,l.k6)((()=>[u])),_:2},1032,["onClick"]),(0,l.bF)(g,{onClick:t=>p.handleDel(e.row),type:"text",size:"small"},{default:(0,l.k6)((()=>[c])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),h.dialog.save?((0,l.uX)(),(0,l.Wv)(y,{key:0,ref:"saveDialog",onSuccess:p.handleSuccess,onClosed:t[0]||(t[0]=e=>h.dialog.save=!1)},null,8,["onSuccess"])):(0,l.Q3)("",!0)])),_:1})}var h=a(5876),p={name:"menuOpt",components:{saveDialog:h["default"]},data(){return{dialog:{save:!1},tableData:[]}},mounted(){this.getList()},methods:{addTop(){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open()}))},handleAddSub(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open().setParentData(e)}))},handleEdit(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open("edit").setData(e)}))},handleDel(e){this.$confirm("此操作将永久删除该菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{let t=await this.$API.menu.del.get({id:e.id});0==t.code?(this.$message.success(t.msg),this.getList()):this.$message.error(t.msg)})).catch((()=>{}))},async getList(){let e=await this.$API.menu.list.get();this.tableData=e.data},handleSuccess(){this.getList()}}},g=a(1456);const k=(0,g.A)(p,[["render",r]]);var b=k}}]);