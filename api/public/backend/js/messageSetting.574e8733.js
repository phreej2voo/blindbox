"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[3739],{276:function(e,s,l){l.r(s),l.d(s,{default:function(){return u}});var a=l(6252);const t=(0,a.Uk)("保存"),m=(0,a.Uk)("保存");function o(e,s,l,o,d,i){const n=(0,a.up)("el-input"),u=(0,a.up)("el-form-item"),g=(0,a.up)("el-button"),c=(0,a.up)("el-form"),p=(0,a.up)("el-tab-pane"),_=(0,a.up)("el-tabs"),r=(0,a.up)("el-card"),f=(0,a.up)("el-main");return(0,a.wg)(),(0,a.j4)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,{shadow:"never"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{modelValue:d.activeName,"onUpdate:modelValue":s[8]||(s[8]=e=>d.activeName=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{label:"阿里云短信设置",name:"first"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{ref:"form",model:d.messageSetting,"label-position":d.labelPosition,"label-width":"160px"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"短信KeyID",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:d.messageSetting.access_key_id,"onUpdate:modelValue":s[0]||(s[0]=e=>d.messageSetting.access_key_id=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"短信KeySecret",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:d.messageSetting.access_key_secret,"onUpdate:modelValue":s[1]||(s[1]=e=>d.messageSetting.access_key_secret=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"短信签名",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:d.messageSetting.sign_name,"onUpdate:modelValue":s[2]||(s[2]=e=>d.messageSetting.sign_name=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{style:{"margin-top":"50px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"primary",onClick:i.SettingSubmit,style:{width:"200px"}},{default:(0,a.w5)((()=>[t])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","label-position"])])),_:1}),(0,a.Wm)(p,{label:"阿里云短信模板",name:"second"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{ref:"form",model:d.messageTpl,"label-position":d.labelPosition,"label-width":"160px"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"通用模板ID",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:d.messageTpl.com_sms_code,"onUpdate:modelValue":s[3]||(s[3]=e=>d.messageTpl.com_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"用户登录模板ID",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:d.messageTpl.login_sms_code,"onUpdate:modelValue":s[4]||(s[4]=e=>d.messageTpl.login_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"用户注册模板ID",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:d.messageTpl.reg_sms_code,"onUpdate:modelValue":s[5]||(s[5]=e=>d.messageTpl.reg_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"密码找回模板ID",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:d.messageTpl.forget_sms_code,"onUpdate:modelValue":s[6]||(s[6]=e=>d.messageTpl.forget_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{label:"手机号码绑定模板ID",style:{width:"700px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:d.messageTpl.bind_sms_code,"onUpdate:modelValue":s[7]||(s[7]=e=>d.messageTpl.bind_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,{style:{"margin-top":"50px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{type:"primary",onClick:i.tplSubmit,style:{width:"200px"}},{default:(0,a.w5)((()=>[m])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","label-position"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}var d={name:"messageSettingIndex",data(){return{labelPosition:"left",activeName:"first",messageSetting:{access_key_id:"",access_key_secret:"",sign_name:""},messageTpl:{com_sms_code:"",login_sms_code:"",reg_sms_code:"",forget_sms_code:"",bind_sms_code:""}}},mounted(){this.getBaseConf()},methods:{handleOnSuccess(e){console.log(e)},async getBaseConf(){let e=await this.$API.messageSetting.messageConfig.get();this.messageSetting=e.data.sms,this.messageTpl=e.data.sms},async SettingSubmit(){let e=await this.$API.messageSetting.save.post(this.messageSetting);0==e.code?this.$message.success(e.msg):this.$message.error(e.msg)},async tplSubmit(){let e=await this.$API.messageSetting.save.post(this.messageTpl);0==e.code?this.$message.success(e.msg):this.$message.error(e.msg)}}},i=l(3744);const n=(0,i.Z)(d,[["render",o]]);var u=n}}]);