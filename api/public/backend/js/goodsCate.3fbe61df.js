"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[7151,5891,9964],{3549:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=a(6252);const l=(0,s.Uk)("添加顶级分类"),i=(0,s._)("div",{style:{width:"100%",height:"0","border-bottom":"#e4e7ed 1px dashed","margin-top":"15px"}},null,-1),o=(0,s.Uk)("正常"),d=(0,s.Uk)("禁用"),n=(0,s.Uk)("子分类"),u=(0,s.Uk)("编辑"),c=(0,s.Uk)("删除");function r(e,t,a,r,h,p){const g=(0,s.up)("el-button"),w=(0,s.up)("el-table-column"),m=(0,s.up)("el-image"),k=(0,s.up)("el-tag"),f=(0,s.up)("el-table"),y=(0,s.up)("el-card"),b=(0,s.up)("save-dialog"),v=(0,s.up)("el-main");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{shadow:"never"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{type:"primary",icon:"el-icon-plus",onClick:p.addTop},{default:(0,s.w5)((()=>[l])),_:1},8,["onClick"]),i,(0,s.Wm)(f,{data:h.tableData,"row-key":"id",style:{width:"100%","margin-top":"20px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{type:"",prop:"id",label:"ID"}),(0,s.Wm)(w,{prop:"name",label:"分类名称"}),(0,s.Wm)(w,{label:"图标"},{default:(0,s.w5)((e=>[(0,s.Wm)(m,{src:e.row.icon,style:{height:"36px",width:"36px"}},null,8,["src"])])),_:1}),(0,s.Wm)(w,{label:"状态"},{default:(0,s.w5)((e=>[1==e.row.status?((0,s.wg)(),(0,s.j4)(k,{key:0,type:"success"},{default:(0,s.w5)((()=>[o])),_:1})):(0,s.kq)("",!0),2==e.row.status?((0,s.wg)(),(0,s.j4)(k,{key:1,type:"danger"},{default:(0,s.w5)((()=>[d])),_:1})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(w,{prop:"sort",label:"排序"}),(0,s.Wm)(w,{label:"操作"},{default:(0,s.w5)((e=>[0==e.row.pid?((0,s.wg)(),(0,s.j4)(g,{key:0,onClick:t=>p.handleAddSub(e.row),type:"text",size:"small"},{default:(0,s.w5)((()=>[n])),_:2},1032,["onClick"])):(0,s.kq)("",!0),(0,s.Wm)(g,{onClick:t=>p.handleEdit(e.row),type:"text",size:"small"},{default:(0,s.w5)((()=>[u])),_:2},1032,["onClick"]),(0,s.Wm)(g,{onClick:t=>p.handleDel(e.row),type:"text",size:"small"},{default:(0,s.w5)((()=>[c])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),h.dialog.save?((0,s.wg)(),(0,s.j4)(b,{key:0,ref:"saveDialog",onSuccess:p.handleSuccess,onClosed:t[0]||(t[0]=e=>h.dialog.save=!1)},null,8,["onSuccess"])):(0,s.kq)("",!0)])),_:1})}var h=a(8593),p={name:"goodsCate",components:{saveDialog:h["default"]},data(){return{dialog:{save:!1},tableData:[]}},mounted(){this.getList()},methods:{addTop(){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open()}))},handleAddSub(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open().setParentData(e)}))},handleEdit(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open("edit").setData(e)}))},handleDel(e){this.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{let t=await this.$API.goodsCate.del.get({id:e.id});0==t.code?(this.$message.success(t.msg),this.getList()):this.$message.error(t.msg)})).catch((()=>{}))},async getList(){let e=await this.$API.goodsCate.list.get();this.tableData=e.data},handleSuccess(){this.getList()}}},g=a(3744);const w=(0,g.Z)(p,[["render",r]]);var m=w}}]);