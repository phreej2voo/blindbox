"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[8860],{2170:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var l=a(6252);const s=(0,l.Uk)("添加顶级菜单"),i=(0,l._)("div",{style:{width:"100%",height:"0","border-bottom":"#e4e7ed 1px dashed","margin-top":"15px"}},null,-1),n=(0,l.Uk)("菜单"),o=(0,l.Uk)("功能"),d=(0,l.Uk)("子菜单"),u=(0,l.Uk)("编辑"),c=(0,l.Uk)("删除");function r(e,t,a,r,p,h){const m=(0,l.up)("el-button"),w=(0,l.up)("el-table-column"),g=(0,l.up)("el-icon"),k=(0,l.up)("el-tag"),f=(0,l.up)("el-table"),y=(0,l.up)("el-card"),b=(0,l.up)("save-dialog"),v=(0,l.up)("el-main");return(0,l.wg)(),(0,l.j4)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{shadow:"never"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{type:"primary",icon:"el-icon-plus",onClick:h.addTop},{default:(0,l.w5)((()=>[s])),_:1},8,["onClick"]),i,(0,l.Wm)(f,{data:p.tableData,"row-key":"id",style:{width:"100%","margin-top":"20px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{type:"",prop:"id",label:"ID"}),(0,l.Wm)(w,{prop:"name",label:"菜单"}),(0,l.Wm)(w,{label:"图标"},{default:(0,l.w5)((e=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.row.icon)))])),_:2},1024)])),_:1}),(0,l.Wm)(w,{label:"类型"},{default:(0,l.w5)((e=>[1==e.row.type?((0,l.wg)(),(0,l.j4)(k,{key:0,type:"success"},{default:(0,l.w5)((()=>[n])),_:1})):(0,l.kq)("",!0),2==e.row.type?((0,l.wg)(),(0,l.j4)(k,{key:1},{default:(0,l.w5)((()=>[o])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(w,{prop:"path",label:"路径"}),(0,l.Wm)(w,{prop:"sort",label:"排序"}),(0,l.Wm)(w,{label:"操作"},{default:(0,l.w5)((e=>[1==e.row.type?((0,l.wg)(),(0,l.j4)(m,{key:0,onClick:t=>h.handleAddSub(e.row),type:"text",size:"small"},{default:(0,l.w5)((()=>[d])),_:2},1032,["onClick"])):(0,l.kq)("",!0),(0,l.Wm)(m,{onClick:t=>h.handleEdit(e.row),type:"text",size:"small"},{default:(0,l.w5)((()=>[u])),_:2},1032,["onClick"]),(0,l.Wm)(m,{onClick:t=>h.handleDel(e.row),type:"text",size:"small"},{default:(0,l.w5)((()=>[c])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),p.dialog.save?((0,l.wg)(),(0,l.j4)(b,{key:0,ref:"saveDialog",onSuccess:h.handleSuccess,onClosed:t[0]||(t[0]=e=>p.dialog.save=!1)},null,8,["onSuccess"])):(0,l.kq)("",!0)])),_:1})}var p=a(2426),h={name:"menuOpt",components:{saveDialog:p["default"]},data(){return{dialog:{save:!1},tableData:[]}},mounted(){this.getList()},methods:{addTop(){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open()}))},handleAddSub(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open().setParentData(e)}))},handleEdit(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open("edit").setData(e)}))},handleDel(e){this.$confirm("此操作将永久删除该菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{let t=await this.$API.menu.del.get({id:e.id});0==t.code?(this.$message.success(t.msg),this.getList()):this.$message.error(t.msg)})).catch((()=>{}))},async getList(){let e=await this.$API.menu.list.get();this.tableData=e.data},handleSuccess(){this.getList()}}},m=a(3744);const w=(0,m.Z)(h,[["render",r]]);var g=w}}]);