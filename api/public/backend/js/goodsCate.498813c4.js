"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[8166,7552,1234],{3305:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(7267);const l=(0,s.eW)("添加顶级分类"),i=(0,s.Lk)("div",{style:{width:"100%",height:"0","border-bottom":"#e4e7ed 1px dashed","margin-top":"15px"}},null,-1),o=(0,s.eW)("正常"),d=(0,s.eW)("禁用"),n=(0,s.eW)("子分类"),c=(0,s.eW)("编辑"),u=(0,s.eW)("删除");function r(e,t,a,r,g,h){const k=(0,s.g2)("el-button"),p=(0,s.g2)("el-table-column"),b=(0,s.g2)("el-image"),f=(0,s.g2)("el-tag"),v=(0,s.g2)("el-table"),m=(0,s.g2)("el-card"),y=(0,s.g2)("save-dialog"),w=(0,s.g2)("el-main");return(0,s.uX)(),(0,s.Wv)(w,null,{default:(0,s.k6)((()=>[(0,s.bF)(m,{shadow:"never"},{default:(0,s.k6)((()=>[(0,s.bF)(k,{type:"primary",icon:"el-icon-plus",onClick:h.addTop},{default:(0,s.k6)((()=>[l])),_:1},8,["onClick"]),i,(0,s.bF)(v,{data:g.tableData,"row-key":"id",style:{width:"100%","margin-top":"20px"}},{default:(0,s.k6)((()=>[(0,s.bF)(p,{type:"",prop:"id",label:"ID"}),(0,s.bF)(p,{prop:"name",label:"分类名称"}),(0,s.bF)(p,{label:"图标"},{default:(0,s.k6)((e=>[(0,s.bF)(b,{src:e.row.icon,style:{height:"36px",width:"36px"}},null,8,["src"])])),_:1}),(0,s.bF)(p,{label:"状态"},{default:(0,s.k6)((e=>[1==e.row.status?((0,s.uX)(),(0,s.Wv)(f,{key:0,type:"success"},{default:(0,s.k6)((()=>[o])),_:1})):(0,s.Q3)("",!0),2==e.row.status?((0,s.uX)(),(0,s.Wv)(f,{key:1,type:"danger"},{default:(0,s.k6)((()=>[d])),_:1})):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(p,{prop:"sort",label:"排序"}),(0,s.bF)(p,{label:"操作"},{default:(0,s.k6)((e=>[0==e.row.pid?((0,s.uX)(),(0,s.Wv)(k,{key:0,onClick:t=>h.handleAddSub(e.row),type:"text",size:"small"},{default:(0,s.k6)((()=>[n])),_:2},1032,["onClick"])):(0,s.Q3)("",!0),(0,s.bF)(k,{onClick:t=>h.handleEdit(e.row),type:"text",size:"small"},{default:(0,s.k6)((()=>[c])),_:2},1032,["onClick"]),(0,s.bF)(k,{onClick:t=>h.handleDel(e.row),type:"text",size:"small"},{default:(0,s.k6)((()=>[u])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),g.dialog.save?((0,s.uX)(),(0,s.Wv)(y,{key:0,ref:"saveDialog",onSuccess:h.handleSuccess,onClosed:t[0]||(t[0]=e=>g.dialog.save=!1)},null,8,["onSuccess"])):(0,s.Q3)("",!0)])),_:1})}var g=a(6719),h={name:"goodsCate",components:{saveDialog:g["default"]},data(){return{dialog:{save:!1},tableData:[]}},mounted(){this.getList()},methods:{addTop(){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open()}))},handleAddSub(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open().setParentData(e)}))},handleEdit(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open("edit").setData(e)}))},handleDel(e){this.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{let t=await this.$API.goodsCate.del.get({id:e.id});0==t.code?(this.$message.success(t.msg),this.getList()):this.$message.error(t.msg)})).catch((()=>{}))},async getList(){let e=await this.$API.goodsCate.list.get();this.tableData=e.data},handleSuccess(){this.getList()}}},k=a(1456);const p=(0,k.A)(h,[["render",r]]);var b=p}}]);