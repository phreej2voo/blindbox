"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[251,9964],{5348:function(e,l,t){t.r(l),t.d(l,{default:function(){return S}});var o=t(6252),a=t(3577);const s=e=>((0,o.dD)("data-v-36fb81fa"),e=e(),(0,o.Cn)(),e),i={class:"img-list"},r={key:0},n={class:"img-tools"},m=(0,o.Uk)("添加"),d={key:0},u={key:1},c={key:0},p={key:1},f=(0,o.Uk)("删除"),w=(0,o.Uk)("添加"),h={key:0},_={key:1},b={key:0},y={key:1},g=(0,o.Uk)("删除"),k=(0,o.Uk)("天 "),W=s((()=>(0,o._)("p",{style:{"font-size":"12px","margin-left":"120px",color:"#606266","margin-bottom":"18px","margin-top":"5px"}}," 好友绑定关系后，在设定期间内发生的购买支付行为，则推广人可获得相应的奖励 ",-1))),x=s((()=>(0,o._)("p",{style:{"font-size":"12px","margin-left":"120px",color:"#606266","margin-bottom":"18px","margin-top":"5px"}}," 例如：5%，此处填写 0.05 ",-1))),V=(0,o.Uk)("立即保存");function v(e,l,t,s,v,I){const D=(0,o.up)("el-image"),R=(0,o.up)("el-icon"),C=(0,o.up)("el-form-item"),U=(0,o.up)("el-button"),z=(0,o.up)("el-table-column"),S=(0,o.up)("el-table"),$=(0,o.up)("el-input"),q=(0,o.up)("sc-editor"),A=(0,o.up)("el-form"),F=(0,o.up)("el-card"),L=(0,o.up)("el-main"),P=(0,o.up)("Attachment"),Z=(0,o.up)("el-dialog"),j=(0,o.up)("resource");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(L,null,{default:(0,o.w5)((()=>[(0,o.Wm)(F,{shadow:"never",style:{width:"1500px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{ref:"form",model:v.form,"label-width":"120px"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{label:"活动大图"},{default:(0,o.w5)((()=>[(0,o._)("ul",i,[""!=v.form.pic?((0,o.wg)(),(0,o.iD)("li",r,[(0,o.Wm)(D,{src:v.form.pic,alt:"图片",style:{height:"58px",width:"58px"},"preview-src-list":[v.form.pic]},null,8,["src","preview-src-list"]),(0,o._)("div",n,[(0,o.Wm)(R,{style:{"font-size":"14px",color:"#fff"},onClick:l[0]||(l[0]=e=>I.removeIcon())},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(v.deleteIcon)))])),_:1})])])):(0,o.kq)("",!0),(0,o._)("li",null,[(0,o._)("div",{class:"addImg",onClick:l[1]||(l[1]=(...e)=>I.showImage&&I.showImage(...e))},[(0,o.Wm)(R,null,{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(v.plusIcon)))])),_:1})])])])])),_:1}),(0,o.Wm)(C,{label:"注册赠送",style:{width:"1000px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{type:"primary",onClick:l[2]||(l[2]=e=>I.showResource(1))},{default:(0,o.w5)((()=>[m])),_:1}),(0,o.Wm)(S,{data:v.form.reg_send,style:{width:"100%","margin-top":"10px"},border:""},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{label:"类型"},{default:(0,o.w5)((e=>["balance"==e.row.type?((0,o.wg)(),(0,o.iD)("span",d,"余额")):(0,o.kq)("",!0),"coupon"==e.row.type?((0,o.wg)(),(0,o.iD)("span",u,"优惠券")):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(z,{prop:"name",label:"名称"}),(0,o.Wm)(z,{label:"数量"},{default:(0,o.w5)((e=>["balance"==e.row.type?((0,o.wg)(),(0,o.iD)("span",c,(0,a.zw)(e.row.value),1)):((0,o.wg)(),(0,o.iD)("span",p,(0,a.zw)(e.row.num),1))])),_:1}),(0,o.Wm)(z,{label:"操作"},{default:(0,o.w5)((e=>[(0,o.Wm)(U,{onClick:l=>I.handleDelReg(e.$index),type:"text",size:"small"},{default:(0,o.w5)((()=>[f])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,o.Wm)(C,{label:"首次下单赠送",style:{width:"1000px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{type:"primary",onClick:l[3]||(l[3]=e=>I.showResource(2))},{default:(0,o.w5)((()=>[w])),_:1}),(0,o.Wm)(S,{data:v.form.first_buy_send,style:{width:"100%","margin-top":"10px"},border:""},{default:(0,o.w5)((()=>[(0,o.Wm)(z,{label:"类型"},{default:(0,o.w5)((e=>["balance"==e.row.type?((0,o.wg)(),(0,o.iD)("span",h,"余额")):(0,o.kq)("",!0),"coupon"==e.row.type?((0,o.wg)(),(0,o.iD)("span",_,"优惠券")):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(z,{prop:"name",label:"名称"}),(0,o.Wm)(z,{label:"数量"},{default:(0,o.w5)((e=>["balance"==e.row.type?((0,o.wg)(),(0,o.iD)("span",b,(0,a.zw)(e.row.value),1)):((0,o.wg)(),(0,o.iD)("span",y,(0,a.zw)(e.row.num),1))])),_:1}),(0,o.Wm)(z,{label:"操作"},{default:(0,o.w5)((e=>[(0,o.Wm)(U,{onClick:l=>I.handleDelOrder(e.$index),type:"text",size:"small"},{default:(0,o.w5)((()=>[g])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,o.Wm)(C,{label:"返佣时限",style:{"margin-bottom":"0px"}},{default:(0,o.w5)((()=>[(0,o.Wm)($,{modelValue:v.form.send_valid_days,"onUpdate:modelValue":l[4]||(l[4]=e=>v.form.send_valid_days=e),style:{width:"880px"},type:"number"},null,8,["modelValue"]),k])),_:1}),W,(0,o.Wm)(C,{label:"返佣比例",style:{"margin-bottom":"0px"}},{default:(0,o.w5)((()=>[(0,o.Wm)($,{modelValue:v.form.rebate_ratio,"onUpdate:modelValue":l[5]||(l[5]=e=>v.form.rebate_ratio=e),style:{width:"880px"},type:"number"},null,8,["modelValue"])])),_:1}),x,(0,o.Wm)(C,{label:"活动介绍"},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{modelValue:v.form.info,"onUpdate:modelValue":l[6]||(l[6]=e=>v.form.info=e),height:600},null,8,["modelValue"])])),_:1}),(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Wm)(U,{type:"primary",onClick:I.onSubmit},{default:(0,o.w5)((()=>[V])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1}),(0,o.Wm)(Z,{title:"选择资源",modelValue:v.imgResourceVisible,"onUpdate:modelValue":l[7]||(l[7]=e=>v.imgResourceVisible=e),width:1350,"destroy-on-close":"","close-on-click-modal":!1},{default:(0,o.w5)((()=>[(0,o.Wm)(P,{"select-num":1,onSelectedFiles:I.selectedFiles},null,8,["onSelectedFiles"])])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{title:"选择资源",modelValue:v.resourceVisible,"onUpdate:modelValue":l[8]||(l[8]=e=>v.resourceVisible=e),width:1350,"destroy-on-close":"","close-on-click-modal":!1},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{onSelectedResource:I.handleResource},null,8,["onSelectedResource"])])),_:1},8,["modelValue"])],64)}t(7658);var I=t(5878),D=t(7087);const R=(0,o.RC)((()=>Promise.all([t.e(8285),t.e(6054),t.e(6325)]).then(t.bind(t,1768))));var C={components:{Attachment:I.Z,scEditor:R,resource:D.Z},data(){return{plusIcon:"el-icon-plus",deleteIcon:"el-icon-delete",form:{pic:"",reg_send:[],first_buy_send:[],send_valid_days:7,rebate_ratio:.05,info:""},imgResourceVisible:!1,resourceVisible:!1,type:1}},mounted(){this.getInfo()},methods:{async getInfo(){let e=await this.$API.invite.getSetInfo.get();e.data&&(this.form=e.data)},showImage(){this.imgResourceVisible=!0},removeIcon(){this.form.pic=""},selectedFiles(e){this.form.pic=e[0].url,this.imgResourceVisible=!1},async onSubmit(){let e=await this.$API.invite.set.post(this.form);0==e.code?this.$message.success("设置成功"):this.$message.error(e.msg)},showResource(e){this.type=e,this.resourceVisible=!0},handleResource(e){this.resourceVisible=!1,1==this.type?this.form.reg_send.push(e):this.form.first_buy_send.push(e)},handleDelReg(e){this.form.reg_send.splice(e,1)},handleDelOrder(e){this.form.first_buy_send.splice(e,1)}}},U=t(3744);const z=(0,U.Z)(C,[["render",v],["__scopeId","data-v-36fb81fa"]]);var S=z}}]);