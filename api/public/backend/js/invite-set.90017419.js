"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[6359,1234],{4671:function(e,l,t){t.r(l),t.d(l,{default:function(){return W}});var o=t(7267),a=t(5710);const s=e=>((0,o.Qi)("data-v-36fb81fa"),e=e(),(0,o.jt)(),e),i={class:"img-list"},r={key:0},n={class:"img-tools"},d=(0,o.eW)("添加"),u={key:0},c={key:1},m={key:0},b={key:1},p=(0,o.eW)("删除"),f=(0,o.eW)("添加"),k={key:0},h={key:1},y={key:0},_={key:1},g=(0,o.eW)("删除"),F=(0,o.eW)("天 "),w=s((()=>(0,o.Lk)("p",{style:{"font-size":"12px","margin-left":"120px",color:"#606266","margin-bottom":"18px","margin-top":"5px"}}," 好友绑定关系后，在设定期间内发生的购买支付行为，则推广人可获得相应的奖励 ",-1))),v=s((()=>(0,o.Lk)("p",{style:{"font-size":"12px","margin-left":"120px",color:"#606266","margin-bottom":"18px","margin-top":"5px"}}," 例如：5%，此处填写 0.05 ",-1))),V=(0,o.eW)("立即保存");function x(e,l,t,s,x,C){const I=(0,o.g2)("el-image"),R=(0,o.g2)("el-icon"),X=(0,o.g2)("el-form-item"),E=(0,o.g2)("el-button"),$=(0,o.g2)("el-table-column"),W=(0,o.g2)("el-table"),A=(0,o.g2)("el-input"),S=(0,o.g2)("sc-editor"),L=(0,o.g2)("el-form"),Q=(0,o.g2)("el-card"),z=(0,o.g2)("el-main"),U=(0,o.g2)("Attachment"),D=(0,o.g2)("el-dialog"),P=(0,o.g2)("resource");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(z,null,{default:(0,o.k6)((()=>[(0,o.bF)(Q,{shadow:"never",style:{width:"1500px"}},{default:(0,o.k6)((()=>[(0,o.bF)(L,{ref:"form",model:x.form,"label-width":"120px"},{default:(0,o.k6)((()=>[(0,o.bF)(X,{label:"活动大图"},{default:(0,o.k6)((()=>[(0,o.Lk)("ul",i,[""!=x.form.pic?((0,o.uX)(),(0,o.CE)("li",r,[(0,o.bF)(I,{src:x.form.pic,alt:"图片",style:{height:"58px",width:"58px"},"preview-src-list":[x.form.pic]},null,8,["src","preview-src-list"]),(0,o.Lk)("div",n,[(0,o.bF)(R,{style:{"font-size":"14px",color:"#fff"},onClick:l[0]||(l[0]=e=>C.removeIcon())},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(x.deleteIcon)))])),_:1})])])):(0,o.Q3)("",!0),(0,o.Lk)("li",null,[(0,o.Lk)("div",{class:"addImg",onClick:l[1]||(l[1]=(...e)=>C.showImage&&C.showImage(...e))},[(0,o.bF)(R,null,{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(x.plusIcon)))])),_:1})])])])])),_:1}),(0,o.bF)(X,{label:"注册赠送",style:{width:"1000px"}},{default:(0,o.k6)((()=>[(0,o.bF)(E,{type:"primary",onClick:l[2]||(l[2]=e=>C.showResource(1))},{default:(0,o.k6)((()=>[d])),_:1}),(0,o.bF)(W,{data:x.form.reg_send,style:{width:"100%","margin-top":"10px"},border:""},{default:(0,o.k6)((()=>[(0,o.bF)($,{label:"类型"},{default:(0,o.k6)((e=>["balance"==e.row.type?((0,o.uX)(),(0,o.CE)("span",u,"余额")):(0,o.Q3)("",!0),"coupon"==e.row.type?((0,o.uX)(),(0,o.CE)("span",c,"优惠券")):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)($,{prop:"name",label:"名称"}),(0,o.bF)($,{label:"数量"},{default:(0,o.k6)((e=>["balance"==e.row.type?((0,o.uX)(),(0,o.CE)("span",m,(0,a.v_)(e.row.value),1)):((0,o.uX)(),(0,o.CE)("span",b,(0,a.v_)(e.row.num),1))])),_:1}),(0,o.bF)($,{label:"操作"},{default:(0,o.k6)((e=>[(0,o.bF)(E,{onClick:l=>C.handleDelReg(e.$index),type:"text",size:"small"},{default:(0,o.k6)((()=>[p])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,o.bF)(X,{label:"首次下单赠送",style:{width:"1000px"}},{default:(0,o.k6)((()=>[(0,o.bF)(E,{type:"primary",onClick:l[3]||(l[3]=e=>C.showResource(2))},{default:(0,o.k6)((()=>[f])),_:1}),(0,o.bF)(W,{data:x.form.first_buy_send,style:{width:"100%","margin-top":"10px"},border:""},{default:(0,o.k6)((()=>[(0,o.bF)($,{label:"类型"},{default:(0,o.k6)((e=>["balance"==e.row.type?((0,o.uX)(),(0,o.CE)("span",k,"余额")):(0,o.Q3)("",!0),"coupon"==e.row.type?((0,o.uX)(),(0,o.CE)("span",h,"优惠券")):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)($,{prop:"name",label:"名称"}),(0,o.bF)($,{label:"数量"},{default:(0,o.k6)((e=>["balance"==e.row.type?((0,o.uX)(),(0,o.CE)("span",y,(0,a.v_)(e.row.value),1)):((0,o.uX)(),(0,o.CE)("span",_,(0,a.v_)(e.row.num),1))])),_:1}),(0,o.bF)($,{label:"操作"},{default:(0,o.k6)((e=>[(0,o.bF)(E,{onClick:l=>C.handleDelOrder(e.$index),type:"text",size:"small"},{default:(0,o.k6)((()=>[g])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,o.bF)(X,{label:"返佣时限",style:{"margin-bottom":"0px"}},{default:(0,o.k6)((()=>[(0,o.bF)(A,{modelValue:x.form.send_valid_days,"onUpdate:modelValue":l[4]||(l[4]=e=>x.form.send_valid_days=e),style:{width:"880px"},type:"number"},null,8,["modelValue"]),F])),_:1}),w,(0,o.bF)(X,{label:"返佣比例",style:{"margin-bottom":"0px"}},{default:(0,o.k6)((()=>[(0,o.bF)(A,{modelValue:x.form.rebate_ratio,"onUpdate:modelValue":l[5]||(l[5]=e=>x.form.rebate_ratio=e),style:{width:"880px"},type:"number"},null,8,["modelValue"])])),_:1}),v,(0,o.bF)(X,{label:"活动介绍"},{default:(0,o.k6)((()=>[(0,o.bF)(S,{modelValue:x.form.info,"onUpdate:modelValue":l[6]||(l[6]=e=>x.form.info=e),height:600},null,8,["modelValue"])])),_:1}),(0,o.bF)(X,null,{default:(0,o.k6)((()=>[(0,o.bF)(E,{type:"primary",onClick:C.onSubmit},{default:(0,o.k6)((()=>[V])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1}),(0,o.bF)(D,{title:"选择资源",modelValue:x.imgResourceVisible,"onUpdate:modelValue":l[7]||(l[7]=e=>x.imgResourceVisible=e),width:1350,"destroy-on-close":"","close-on-click-modal":!1},{default:(0,o.k6)((()=>[(0,o.bF)(U,{"select-num":1,onSelectedFiles:C.selectedFiles},null,8,["onSelectedFiles"])])),_:1},8,["modelValue"]),(0,o.bF)(D,{title:"选择资源",modelValue:x.resourceVisible,"onUpdate:modelValue":l[8]||(l[8]=e=>x.resourceVisible=e),width:1350,"destroy-on-close":"","close-on-click-modal":!1},{default:(0,o.k6)((()=>[(0,o.bF)(P,{onSelectedResource:C.handleResource},null,8,["onSelectedResource"])])),_:1},8,["modelValue"])],64)}t(7414);var C=t(940),I=t(7835);const R=(0,o.$V)((()=>Promise.all([t.e(8774),t.e(6158),t.e(8749)]).then(t.bind(t,8852))));var X={components:{Attachment:C.A,scEditor:R,resource:I.A},data(){return{plusIcon:"el-icon-plus",deleteIcon:"el-icon-delete",form:{pic:"",reg_send:[],first_buy_send:[],send_valid_days:7,rebate_ratio:.05,info:""},imgResourceVisible:!1,resourceVisible:!1,type:1}},mounted(){this.getInfo()},methods:{async getInfo(){let e=await this.$API.invite.getSetInfo.get();e.data&&(this.form=e.data)},showImage(){this.imgResourceVisible=!0},removeIcon(){this.form.pic=""},selectedFiles(e){this.form.pic=e[0].url,this.imgResourceVisible=!1},async onSubmit(){let e=await this.$API.invite.set.post(this.form);0==e.code?this.$message.success("设置成功"):this.$message.error(e.msg)},showResource(e){this.type=e,this.resourceVisible=!0},handleResource(e){this.resourceVisible=!1,1==this.type?this.form.reg_send.push(e):this.form.first_buy_send.push(e)},handleDelReg(e){this.form.reg_send.splice(e,1)},handleDelOrder(e){this.form.first_buy_send.splice(e,1)}}},E=t(1456);const $=(0,E.A)(X,[["render",x],["__scopeId","data-v-36fb81fa"]]);var W=$}}]);