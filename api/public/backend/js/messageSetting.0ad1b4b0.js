"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[6e3],{124:function(e,s,l){l.r(s),l.d(s,{default:function(){return g}});var a=l(7267);const t=(0,a.eW)("保存"),m=(0,a.eW)("保存");function o(e,s,l,o,d,i){const n=(0,a.g2)("el-input"),g=(0,a.g2)("el-form-item"),u=(0,a.g2)("el-button"),c=(0,a.g2)("el-form"),_=(0,a.g2)("el-tab-pane"),b=(0,a.g2)("el-tabs"),p=(0,a.g2)("el-card"),r=(0,a.g2)("el-main");return(0,a.uX)(),(0,a.Wv)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,{shadow:"never"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:d.activeName,"onUpdate:modelValue":s[8]||(s[8]=e=>d.activeName=e)},{default:(0,a.k6)((()=>[(0,a.bF)(_,{label:"阿里云短信设置",name:"first"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{ref:"form",model:d.messageSetting,"label-position":d.labelPosition,"label-width":"160px"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{label:"短信KeyID",style:{width:"700px"}},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.messageSetting.access_key_id,"onUpdate:modelValue":s[0]||(s[0]=e=>d.messageSetting.access_key_id=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"短信KeySecret",style:{width:"700px"}},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.messageSetting.access_key_secret,"onUpdate:modelValue":s[1]||(s[1]=e=>d.messageSetting.access_key_secret=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"短信签名",style:{width:"700px"}},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.messageSetting.sign_name,"onUpdate:modelValue":s[2]||(s[2]=e=>d.messageSetting.sign_name=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{style:{"margin-top":"50px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{type:"primary",onClick:i.SettingSubmit,style:{width:"200px"}},{default:(0,a.k6)((()=>[t])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","label-position"])])),_:1}),(0,a.bF)(_,{label:"阿里云短信模板",name:"second"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{ref:"form",model:d.messageTpl,"label-position":d.labelPosition,"label-width":"160px"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{label:"通用模板ID",style:{width:"700px"}},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.messageTpl.com_sms_code,"onUpdate:modelValue":s[3]||(s[3]=e=>d.messageTpl.com_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"用户登录模板ID",style:{width:"700px"}},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.messageTpl.login_sms_code,"onUpdate:modelValue":s[4]||(s[4]=e=>d.messageTpl.login_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"用户注册模板ID",style:{width:"700px"}},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.messageTpl.reg_sms_code,"onUpdate:modelValue":s[5]||(s[5]=e=>d.messageTpl.reg_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"密码找回模板ID",style:{width:"700px"}},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.messageTpl.forget_sms_code,"onUpdate:modelValue":s[6]||(s[6]=e=>d.messageTpl.forget_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"手机号码绑定模板ID",style:{width:"700px"}},{default:(0,a.k6)((()=>[(0,a.bF)(n,{modelValue:d.messageTpl.bind_sms_code,"onUpdate:modelValue":s[7]||(s[7]=e=>d.messageTpl.bind_sms_code=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{style:{"margin-top":"50px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{type:"primary",onClick:i.tplSubmit,style:{width:"200px"}},{default:(0,a.k6)((()=>[m])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","label-position"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}var d={name:"messageSettingIndex",data(){return{labelPosition:"left",activeName:"first",messageSetting:{access_key_id:"",access_key_secret:"",sign_name:""},messageTpl:{com_sms_code:"",login_sms_code:"",reg_sms_code:"",forget_sms_code:"",bind_sms_code:""}}},mounted(){this.getBaseConf()},methods:{handleOnSuccess(e){console.log(e)},async getBaseConf(){let e=await this.$API.messageSetting.messageConfig.get();this.messageSetting=e.data.sms,this.messageTpl=e.data.sms},async SettingSubmit(){let e=await this.$API.messageSetting.save.post(this.messageSetting);0==e.code?this.$message.success(e.msg):this.$message.error(e.msg)},async tplSubmit(){let e=await this.$API.messageSetting.save.post(this.messageTpl);0==e.code?this.$message.success(e.msg):this.$message.error(e.msg)}}},i=l(1456);const n=(0,i.A)(d,[["render",o]]);var g=n}}]);